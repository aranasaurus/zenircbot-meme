<html>
<head>
  <style type="text/css">
  html, body {
    width: 100%;
    height: 100%;
  }
  </style>
</head>
<body>
  <img src="" id="meme" style="display: block; max-height: 100%; max-width: 100%; margin: 0 auto;" />
</body>
</html>

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript">
$(function(){
  $.getJSON("/last.json", function(data){
    if(data.result && data.result.img_url) {
      $("#meme").attr("src", data.result.img_url);
    }
  });

  // Start a request which will hang a long time until a meme is generated
  function get_new_meme() {
    $.getJSON("/meme.json", function(data){
      if(data.result && data.result.img_url) {
        $("#meme").attr("src", data.result.img_url);
        get_new_meme();
      }
    });
  }

  get_new_meme();
});
</script>